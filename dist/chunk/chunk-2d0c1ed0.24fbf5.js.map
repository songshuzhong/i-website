{"version":3,"sources":["webpack:///./node_modules/monaco-editor/esm/vs/language/json/workerManager.js","webpack:///./node_modules/monaco-editor/esm/vs/language/json/languageFeatures.js","webpack:///./node_modules/monaco-editor/esm/vs/language/json/tokenization.js","webpack:///./node_modules/monaco-editor/esm/vs/language/json/jsonMode.js"],"names":["STOP_WHEN_IDLE_FOR","WorkerManager","defaults","_this","this","_defaults","_worker","_idleCheckInterval","window","setInterval","_checkIfIdle","_lastUsedTime","_configChangeListener","onDidChange","_stopWorker","prototype","dispose","_client","clearInterval","timePassedSinceLastUsed","Date","now","_getClient","createWebWorker","moduleId","label","languageId","createData","languageSettings","diagnosticsOptions","enableSchemaRequest","getProxy","getLanguageServiceWorker","resources","_i","arguments","length","then","client","_","withSyncedResources","DiagnosticsAdapter","_languageId","_disposables","_listener","Object","create","onModelAdd","model","handle","modeId","getLanguageId","uri","toString","onDidChangeContent","clearTimeout","setTimeout","_doValidate","onModelRemoved","setModelMarkers","uriStr","listener","push","onDidCreateModel","onWillDisposeModel","_resetSchema","onDidChangeModelLanguage","event","getModels","forEach","key","d","resource","worker","resetSchema","doValidation","diagnostics","markers","map","toDiagnostics","getModel","undefined","err","console","error","toSeverity","lsSeverity","Error","Warning","Information","Info","Hint","diag","code","String","severity","startLineNumber","range","start","line","startColumn","character","endLineNumber","end","endColumn","message","source","fromPosition","position","column","lineNumber","fromRange","toRange","isInsertReplaceEdit","edit","insert","replace","toCompletionItemKind","kind","mItemKind","CompletionItemKind","Text","Method","Function","Constructor","Field","Variable","Class","Interface","Module","Property","Unit","Value","Enum","Keyword","Snippet","Color","File","Reference","toTextEdit","textEdit","text","newText","toCommand","c","command","id","title","CompletionAdapter","defineProperty","get","enumerable","configurable","provideCompletionItems","context","token","doComplete","info","wordInfo","getWordUntilPosition","wordRange","items","entry","item","insertText","sortText","filterText","documentation","detail","additionalTextEdits","insertTextFormat","insertTextRules","CompletionItemInsertTextRule","InsertAsSnippet","isIncomplete","suggestions","isMarkupContent","thing","toMarkdownString","value","language","toMarkedStringArray","contents","Array","isArray","HoverAdapter","provideHover","doHover","toSymbolKind","mKind","SymbolKind","Namespace","Package","Constant","Number","Boolean","DocumentSymbolAdapter","provideDocumentSymbols","findDocumentSymbols","name","containerName","location","selectionRange","tags","fromFormattingOptions","options","tabSize","insertSpaces","DocumentFormattingEditProvider","provideDocumentFormattingEdits","format","edits","DocumentRangeFormattingEditProvider","provideDocumentRangeFormattingEdits","DocumentColorAdapter","provideDocumentColors","findDocumentColors","infos","color","provideColorPresentations","getColorPresentations","presentations","presentation","FoldingRangeAdapter","provideFoldingRanges","getFoldingRanges","ranges","result","startLine","endLine","toFoldingRangeKind","Comment","FoldingRangeKind","Imports","Region","SelectionRangeAdapter","provideSelectionRanges","positions","getSelectionRanges","selectionRanges","parent","createTokenizationSupport","supportComments","getInitialState","JSONState","tokenize","state","offsetDelta","stopAtOffset","TOKEN_DELIM_OBJECT","TOKEN_DELIM_ARRAY","TOKEN_DELIM_COLON","TOKEN_DELIM_COMMA","TOKEN_VALUE_BOOLEAN","TOKEN_VALUE_NULL","TOKEN_VALUE_STRING","TOKEN_VALUE_NUMBER","TOKEN_PROPERTY_NAME","TOKEN_COMMENT_BLOCK","TOKEN_COMMENT_LINE","ParentsStack","type","pop","parents","equals","a","b","scanError","lastWasColon","_state","clone","other","getStateData","setStateData","comments","numberOfInsertedCharacters","adjustOffset","scanner","ret","tokens","endState","offset","getPosition","scan","substr","currentParent","inArray","getTokenError","startIndex","scopes","setupMode","disposables","providers","uris","apply","registerProviders","modeConfiguration","disposeAll","documentFormattingEdits","registerDocumentFormattingEditProvider","documentRangeFormattingEdits","registerDocumentRangeFormattingEditProvider","completionItems","registerCompletionItemProvider","hovers","registerHoverProvider","documentSymbols","registerDocumentSymbolProvider","setTokensProvider","colors","registerColorProvider","foldingRanges","registerFoldingRangeProvider","registerSelectionRangeProvider","setLanguageConfiguration","richEditConfiguration","newDefaults","asDisposable","wordPattern","lineComment","blockComment","brackets","autoClosingPairs","open","close","notIn"],"mappings":"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","file":"chunk/chunk-2d0c1ed0.24fbf5.js","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { editor } from './fillers/monaco-editor-core.js';\nvar STOP_WHEN_IDLE_FOR = 2 * 60 * 1000; // 2min\nvar WorkerManager = /** @class */ (function () {\n    function WorkerManager(defaults) {\n        var _this = this;\n        this._defaults = defaults;\n        this._worker = null;\n        this._idleCheckInterval = window.setInterval(function () { return _this._checkIfIdle(); }, 30 * 1000);\n        this._lastUsedTime = 0;\n        this._configChangeListener = this._defaults.onDidChange(function () { return _this._stopWorker(); });\n    }\n    WorkerManager.prototype._stopWorker = function () {\n        if (this._worker) {\n            this._worker.dispose();\n            this._worker = null;\n        }\n        this._client = null;\n    };\n    WorkerManager.prototype.dispose = function () {\n        clearInterval(this._idleCheckInterval);\n        this._configChangeListener.dispose();\n        this._stopWorker();\n    };\n    WorkerManager.prototype._checkIfIdle = function () {\n        if (!this._worker) {\n            return;\n        }\n        var timePassedSinceLastUsed = Date.now() - this._lastUsedTime;\n        if (timePassedSinceLastUsed > STOP_WHEN_IDLE_FOR) {\n            this._stopWorker();\n        }\n    };\n    WorkerManager.prototype._getClient = function () {\n        this._lastUsedTime = Date.now();\n        if (!this._client) {\n            this._worker = editor.createWebWorker({\n                // module that exports the create() method and returns a `JSONWorker` instance\n                moduleId: 'vs/language/json/jsonWorker',\n                label: this._defaults.languageId,\n                // passed in to the create() method\n                createData: {\n                    languageSettings: this._defaults.diagnosticsOptions,\n                    languageId: this._defaults.languageId,\n                    enableSchemaRequest: this._defaults.diagnosticsOptions.enableSchemaRequest\n                }\n            });\n            this._client = this._worker.getProxy();\n        }\n        return this._client;\n    };\n    WorkerManager.prototype.getLanguageServiceWorker = function () {\n        var _this = this;\n        var resources = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            resources[_i] = arguments[_i];\n        }\n        var _client;\n        return this._getClient()\n            .then(function (client) {\n            _client = client;\n        })\n            .then(function (_) {\n            return _this._worker.withSyncedResources(resources);\n        })\n            .then(function (_) { return _client; });\n    };\n    return WorkerManager;\n}());\nexport { WorkerManager };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Uri, Range, editor, languages, MarkerSeverity } from './fillers/monaco-editor-core.js';\nimport * as lsTypes from './_deps/vscode-languageserver-types/main.js';\n// --- diagnostics --- ---\nvar DiagnosticsAdapter = /** @class */ (function () {\n    function DiagnosticsAdapter(_languageId, _worker, defaults) {\n        var _this = this;\n        this._languageId = _languageId;\n        this._worker = _worker;\n        this._disposables = [];\n        this._listener = Object.create(null);\n        var onModelAdd = function (model) {\n            var modeId = model.getLanguageId();\n            if (modeId !== _this._languageId) {\n                return;\n            }\n            var handle;\n            _this._listener[model.uri.toString()] = model.onDidChangeContent(function () {\n                clearTimeout(handle);\n                handle = window.setTimeout(function () { return _this._doValidate(model.uri, modeId); }, 500);\n            });\n            _this._doValidate(model.uri, modeId);\n        };\n        var onModelRemoved = function (model) {\n            editor.setModelMarkers(model, _this._languageId, []);\n            var uriStr = model.uri.toString();\n            var listener = _this._listener[uriStr];\n            if (listener) {\n                listener.dispose();\n                delete _this._listener[uriStr];\n            }\n        };\n        this._disposables.push(editor.onDidCreateModel(onModelAdd));\n        this._disposables.push(editor.onWillDisposeModel(function (model) {\n            onModelRemoved(model);\n            _this._resetSchema(model.uri);\n        }));\n        this._disposables.push(editor.onDidChangeModelLanguage(function (event) {\n            onModelRemoved(event.model);\n            onModelAdd(event.model);\n            _this._resetSchema(event.model.uri);\n        }));\n        this._disposables.push(defaults.onDidChange(function (_) {\n            editor.getModels().forEach(function (model) {\n                if (model.getLanguageId() === _this._languageId) {\n                    onModelRemoved(model);\n                    onModelAdd(model);\n                }\n            });\n        }));\n        this._disposables.push({\n            dispose: function () {\n                editor.getModels().forEach(onModelRemoved);\n                for (var key in _this._listener) {\n                    _this._listener[key].dispose();\n                }\n            }\n        });\n        editor.getModels().forEach(onModelAdd);\n    }\n    DiagnosticsAdapter.prototype.dispose = function () {\n        this._disposables.forEach(function (d) { return d && d.dispose(); });\n        this._disposables = [];\n    };\n    DiagnosticsAdapter.prototype._resetSchema = function (resource) {\n        this._worker().then(function (worker) {\n            worker.resetSchema(resource.toString());\n        });\n    };\n    DiagnosticsAdapter.prototype._doValidate = function (resource, languageId) {\n        this._worker(resource)\n            .then(function (worker) {\n            return worker.doValidation(resource.toString()).then(function (diagnostics) {\n                var markers = diagnostics.map(function (d) { return toDiagnostics(resource, d); });\n                var model = editor.getModel(resource);\n                if (model && model.getLanguageId() === languageId) {\n                    editor.setModelMarkers(model, languageId, markers);\n                }\n            });\n        })\n            .then(undefined, function (err) {\n            console.error(err);\n        });\n    };\n    return DiagnosticsAdapter;\n}());\nexport { DiagnosticsAdapter };\nfunction toSeverity(lsSeverity) {\n    switch (lsSeverity) {\n        case lsTypes.DiagnosticSeverity.Error:\n            return MarkerSeverity.Error;\n        case lsTypes.DiagnosticSeverity.Warning:\n            return MarkerSeverity.Warning;\n        case lsTypes.DiagnosticSeverity.Information:\n            return MarkerSeverity.Info;\n        case lsTypes.DiagnosticSeverity.Hint:\n            return MarkerSeverity.Hint;\n        default:\n            return MarkerSeverity.Info;\n    }\n}\nfunction toDiagnostics(resource, diag) {\n    var code = typeof diag.code === 'number' ? String(diag.code) : diag.code;\n    return {\n        severity: toSeverity(diag.severity),\n        startLineNumber: diag.range.start.line + 1,\n        startColumn: diag.range.start.character + 1,\n        endLineNumber: diag.range.end.line + 1,\n        endColumn: diag.range.end.character + 1,\n        message: diag.message,\n        code: code,\n        source: diag.source\n    };\n}\n// --- completion ------\nfunction fromPosition(position) {\n    if (!position) {\n        return void 0;\n    }\n    return { character: position.column - 1, line: position.lineNumber - 1 };\n}\nfunction fromRange(range) {\n    if (!range) {\n        return void 0;\n    }\n    return {\n        start: {\n            line: range.startLineNumber - 1,\n            character: range.startColumn - 1\n        },\n        end: { line: range.endLineNumber - 1, character: range.endColumn - 1 }\n    };\n}\nfunction toRange(range) {\n    if (!range) {\n        return void 0;\n    }\n    return new Range(range.start.line + 1, range.start.character + 1, range.end.line + 1, range.end.character + 1);\n}\nfunction isInsertReplaceEdit(edit) {\n    return (typeof edit.insert !== 'undefined' &&\n        typeof edit.replace !== 'undefined');\n}\nfunction toCompletionItemKind(kind) {\n    var mItemKind = languages.CompletionItemKind;\n    switch (kind) {\n        case lsTypes.CompletionItemKind.Text:\n            return mItemKind.Text;\n        case lsTypes.CompletionItemKind.Method:\n            return mItemKind.Method;\n        case lsTypes.CompletionItemKind.Function:\n            return mItemKind.Function;\n        case lsTypes.CompletionItemKind.Constructor:\n            return mItemKind.Constructor;\n        case lsTypes.CompletionItemKind.Field:\n            return mItemKind.Field;\n        case lsTypes.CompletionItemKind.Variable:\n            return mItemKind.Variable;\n        case lsTypes.CompletionItemKind.Class:\n            return mItemKind.Class;\n        case lsTypes.CompletionItemKind.Interface:\n            return mItemKind.Interface;\n        case lsTypes.CompletionItemKind.Module:\n            return mItemKind.Module;\n        case lsTypes.CompletionItemKind.Property:\n            return mItemKind.Property;\n        case lsTypes.CompletionItemKind.Unit:\n            return mItemKind.Unit;\n        case lsTypes.CompletionItemKind.Value:\n            return mItemKind.Value;\n        case lsTypes.CompletionItemKind.Enum:\n            return mItemKind.Enum;\n        case lsTypes.CompletionItemKind.Keyword:\n            return mItemKind.Keyword;\n        case lsTypes.CompletionItemKind.Snippet:\n            return mItemKind.Snippet;\n        case lsTypes.CompletionItemKind.Color:\n            return mItemKind.Color;\n        case lsTypes.CompletionItemKind.File:\n            return mItemKind.File;\n        case lsTypes.CompletionItemKind.Reference:\n            return mItemKind.Reference;\n    }\n    return mItemKind.Property;\n}\nfunction fromCompletionItemKind(kind) {\n    var mItemKind = languages.CompletionItemKind;\n    switch (kind) {\n        case mItemKind.Text:\n            return lsTypes.CompletionItemKind.Text;\n        case mItemKind.Method:\n            return lsTypes.CompletionItemKind.Method;\n        case mItemKind.Function:\n            return lsTypes.CompletionItemKind.Function;\n        case mItemKind.Constructor:\n            return lsTypes.CompletionItemKind.Constructor;\n        case mItemKind.Field:\n            return lsTypes.CompletionItemKind.Field;\n        case mItemKind.Variable:\n            return lsTypes.CompletionItemKind.Variable;\n        case mItemKind.Class:\n            return lsTypes.CompletionItemKind.Class;\n        case mItemKind.Interface:\n            return lsTypes.CompletionItemKind.Interface;\n        case mItemKind.Module:\n            return lsTypes.CompletionItemKind.Module;\n        case mItemKind.Property:\n            return lsTypes.CompletionItemKind.Property;\n        case mItemKind.Unit:\n            return lsTypes.CompletionItemKind.Unit;\n        case mItemKind.Value:\n            return lsTypes.CompletionItemKind.Value;\n        case mItemKind.Enum:\n            return lsTypes.CompletionItemKind.Enum;\n        case mItemKind.Keyword:\n            return lsTypes.CompletionItemKind.Keyword;\n        case mItemKind.Snippet:\n            return lsTypes.CompletionItemKind.Snippet;\n        case mItemKind.Color:\n            return lsTypes.CompletionItemKind.Color;\n        case mItemKind.File:\n            return lsTypes.CompletionItemKind.File;\n        case mItemKind.Reference:\n            return lsTypes.CompletionItemKind.Reference;\n    }\n    return lsTypes.CompletionItemKind.Property;\n}\nfunction toTextEdit(textEdit) {\n    if (!textEdit) {\n        return void 0;\n    }\n    return {\n        range: toRange(textEdit.range),\n        text: textEdit.newText\n    };\n}\nfunction toCommand(c) {\n    return c && c.command === 'editor.action.triggerSuggest'\n        ? { id: c.command, title: c.title, arguments: c.arguments }\n        : undefined;\n}\nvar CompletionAdapter = /** @class */ (function () {\n    function CompletionAdapter(_worker) {\n        this._worker = _worker;\n    }\n    Object.defineProperty(CompletionAdapter.prototype, \"triggerCharacters\", {\n        get: function () {\n            return [' ', ':', '\"'];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CompletionAdapter.prototype.provideCompletionItems = function (model, position, context, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) {\n            return worker.doComplete(resource.toString(), fromPosition(position));\n        })\n            .then(function (info) {\n            if (!info) {\n                return;\n            }\n            var wordInfo = model.getWordUntilPosition(position);\n            var wordRange = new Range(position.lineNumber, wordInfo.startColumn, position.lineNumber, wordInfo.endColumn);\n            var items = info.items.map(function (entry) {\n                var item = {\n                    label: entry.label,\n                    insertText: entry.insertText || entry.label,\n                    sortText: entry.sortText,\n                    filterText: entry.filterText,\n                    documentation: entry.documentation,\n                    detail: entry.detail,\n                    command: toCommand(entry.command),\n                    range: wordRange,\n                    kind: toCompletionItemKind(entry.kind)\n                };\n                if (entry.textEdit) {\n                    if (isInsertReplaceEdit(entry.textEdit)) {\n                        item.range = {\n                            insert: toRange(entry.textEdit.insert),\n                            replace: toRange(entry.textEdit.replace)\n                        };\n                    }\n                    else {\n                        item.range = toRange(entry.textEdit.range);\n                    }\n                    item.insertText = entry.textEdit.newText;\n                }\n                if (entry.additionalTextEdits) {\n                    item.additionalTextEdits = entry.additionalTextEdits.map(toTextEdit);\n                }\n                if (entry.insertTextFormat === lsTypes.InsertTextFormat.Snippet) {\n                    item.insertTextRules = languages.CompletionItemInsertTextRule.InsertAsSnippet;\n                }\n                return item;\n            });\n            return {\n                isIncomplete: info.isIncomplete,\n                suggestions: items\n            };\n        });\n    };\n    return CompletionAdapter;\n}());\nexport { CompletionAdapter };\nfunction isMarkupContent(thing) {\n    return (thing && typeof thing === 'object' && typeof thing.kind === 'string');\n}\nfunction toMarkdownString(entry) {\n    if (typeof entry === 'string') {\n        return {\n            value: entry\n        };\n    }\n    if (isMarkupContent(entry)) {\n        if (entry.kind === 'plaintext') {\n            return {\n                value: entry.value.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&')\n            };\n        }\n        return {\n            value: entry.value\n        };\n    }\n    return { value: '```' + entry.language + '\\n' + entry.value + '\\n```\\n' };\n}\nfunction toMarkedStringArray(contents) {\n    if (!contents) {\n        return void 0;\n    }\n    if (Array.isArray(contents)) {\n        return contents.map(toMarkdownString);\n    }\n    return [toMarkdownString(contents)];\n}\n// --- hover ------\nvar HoverAdapter = /** @class */ (function () {\n    function HoverAdapter(_worker) {\n        this._worker = _worker;\n    }\n    HoverAdapter.prototype.provideHover = function (model, position, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) {\n            return worker.doHover(resource.toString(), fromPosition(position));\n        })\n            .then(function (info) {\n            if (!info) {\n                return;\n            }\n            return {\n                range: toRange(info.range),\n                contents: toMarkedStringArray(info.contents)\n            };\n        });\n    };\n    return HoverAdapter;\n}());\nexport { HoverAdapter };\n// --- definition ------\nfunction toLocation(location) {\n    return {\n        uri: Uri.parse(location.uri),\n        range: toRange(location.range)\n    };\n}\n// --- document symbols ------\nfunction toSymbolKind(kind) {\n    var mKind = languages.SymbolKind;\n    switch (kind) {\n        case lsTypes.SymbolKind.File:\n            return mKind.Array;\n        case lsTypes.SymbolKind.Module:\n            return mKind.Module;\n        case lsTypes.SymbolKind.Namespace:\n            return mKind.Namespace;\n        case lsTypes.SymbolKind.Package:\n            return mKind.Package;\n        case lsTypes.SymbolKind.Class:\n            return mKind.Class;\n        case lsTypes.SymbolKind.Method:\n            return mKind.Method;\n        case lsTypes.SymbolKind.Property:\n            return mKind.Property;\n        case lsTypes.SymbolKind.Field:\n            return mKind.Field;\n        case lsTypes.SymbolKind.Constructor:\n            return mKind.Constructor;\n        case lsTypes.SymbolKind.Enum:\n            return mKind.Enum;\n        case lsTypes.SymbolKind.Interface:\n            return mKind.Interface;\n        case lsTypes.SymbolKind.Function:\n            return mKind.Function;\n        case lsTypes.SymbolKind.Variable:\n            return mKind.Variable;\n        case lsTypes.SymbolKind.Constant:\n            return mKind.Constant;\n        case lsTypes.SymbolKind.String:\n            return mKind.String;\n        case lsTypes.SymbolKind.Number:\n            return mKind.Number;\n        case lsTypes.SymbolKind.Boolean:\n            return mKind.Boolean;\n        case lsTypes.SymbolKind.Array:\n            return mKind.Array;\n    }\n    return mKind.Function;\n}\nvar DocumentSymbolAdapter = /** @class */ (function () {\n    function DocumentSymbolAdapter(_worker) {\n        this._worker = _worker;\n    }\n    DocumentSymbolAdapter.prototype.provideDocumentSymbols = function (model, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) { return worker.findDocumentSymbols(resource.toString()); })\n            .then(function (items) {\n            if (!items) {\n                return;\n            }\n            return items.map(function (item) { return ({\n                name: item.name,\n                detail: '',\n                containerName: item.containerName,\n                kind: toSymbolKind(item.kind),\n                range: toRange(item.location.range),\n                selectionRange: toRange(item.location.range),\n                tags: []\n            }); });\n        });\n    };\n    return DocumentSymbolAdapter;\n}());\nexport { DocumentSymbolAdapter };\nfunction fromFormattingOptions(options) {\n    return {\n        tabSize: options.tabSize,\n        insertSpaces: options.insertSpaces\n    };\n}\nvar DocumentFormattingEditProvider = /** @class */ (function () {\n    function DocumentFormattingEditProvider(_worker) {\n        this._worker = _worker;\n    }\n    DocumentFormattingEditProvider.prototype.provideDocumentFormattingEdits = function (model, options, token) {\n        var resource = model.uri;\n        return this._worker(resource).then(function (worker) {\n            return worker\n                .format(resource.toString(), null, fromFormattingOptions(options))\n                .then(function (edits) {\n                if (!edits || edits.length === 0) {\n                    return;\n                }\n                return edits.map(toTextEdit);\n            });\n        });\n    };\n    return DocumentFormattingEditProvider;\n}());\nexport { DocumentFormattingEditProvider };\nvar DocumentRangeFormattingEditProvider = /** @class */ (function () {\n    function DocumentRangeFormattingEditProvider(_worker) {\n        this._worker = _worker;\n    }\n    DocumentRangeFormattingEditProvider.prototype.provideDocumentRangeFormattingEdits = function (model, range, options, token) {\n        var resource = model.uri;\n        return this._worker(resource).then(function (worker) {\n            return worker\n                .format(resource.toString(), fromRange(range), fromFormattingOptions(options))\n                .then(function (edits) {\n                if (!edits || edits.length === 0) {\n                    return;\n                }\n                return edits.map(toTextEdit);\n            });\n        });\n    };\n    return DocumentRangeFormattingEditProvider;\n}());\nexport { DocumentRangeFormattingEditProvider };\nvar DocumentColorAdapter = /** @class */ (function () {\n    function DocumentColorAdapter(_worker) {\n        this._worker = _worker;\n    }\n    DocumentColorAdapter.prototype.provideDocumentColors = function (model, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) { return worker.findDocumentColors(resource.toString()); })\n            .then(function (infos) {\n            if (!infos) {\n                return;\n            }\n            return infos.map(function (item) { return ({\n                color: item.color,\n                range: toRange(item.range)\n            }); });\n        });\n    };\n    DocumentColorAdapter.prototype.provideColorPresentations = function (model, info, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) {\n            return worker.getColorPresentations(resource.toString(), info.color, fromRange(info.range));\n        })\n            .then(function (presentations) {\n            if (!presentations) {\n                return;\n            }\n            return presentations.map(function (presentation) {\n                var item = {\n                    label: presentation.label\n                };\n                if (presentation.textEdit) {\n                    item.textEdit = toTextEdit(presentation.textEdit);\n                }\n                if (presentation.additionalTextEdits) {\n                    item.additionalTextEdits = presentation.additionalTextEdits.map(toTextEdit);\n                }\n                return item;\n            });\n        });\n    };\n    return DocumentColorAdapter;\n}());\nexport { DocumentColorAdapter };\nvar FoldingRangeAdapter = /** @class */ (function () {\n    function FoldingRangeAdapter(_worker) {\n        this._worker = _worker;\n    }\n    FoldingRangeAdapter.prototype.provideFoldingRanges = function (model, context, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) { return worker.getFoldingRanges(resource.toString(), context); })\n            .then(function (ranges) {\n            if (!ranges) {\n                return;\n            }\n            return ranges.map(function (range) {\n                var result = {\n                    start: range.startLine + 1,\n                    end: range.endLine + 1\n                };\n                if (typeof range.kind !== 'undefined') {\n                    result.kind = toFoldingRangeKind(range.kind);\n                }\n                return result;\n            });\n        });\n    };\n    return FoldingRangeAdapter;\n}());\nexport { FoldingRangeAdapter };\nfunction toFoldingRangeKind(kind) {\n    switch (kind) {\n        case lsTypes.FoldingRangeKind.Comment:\n            return languages.FoldingRangeKind.Comment;\n        case lsTypes.FoldingRangeKind.Imports:\n            return languages.FoldingRangeKind.Imports;\n        case lsTypes.FoldingRangeKind.Region:\n            return languages.FoldingRangeKind.Region;\n    }\n    return void 0;\n}\nvar SelectionRangeAdapter = /** @class */ (function () {\n    function SelectionRangeAdapter(_worker) {\n        this._worker = _worker;\n    }\n    SelectionRangeAdapter.prototype.provideSelectionRanges = function (model, positions, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) { return worker.getSelectionRanges(resource.toString(), positions.map(fromPosition)); })\n            .then(function (selectionRanges) {\n            if (!selectionRanges) {\n                return;\n            }\n            return selectionRanges.map(function (selectionRange) {\n                var result = [];\n                while (selectionRange) {\n                    result.push({ range: toRange(selectionRange.range) });\n                    selectionRange = selectionRange.parent;\n                }\n                return result;\n            });\n        });\n    };\n    return SelectionRangeAdapter;\n}());\nexport { SelectionRangeAdapter };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as json from './_deps/jsonc-parser/main.js';\nexport function createTokenizationSupport(supportComments) {\n    return {\n        getInitialState: function () { return new JSONState(null, null, false, null); },\n        tokenize: function (line, state, offsetDelta, stopAtOffset) {\n            return tokenize(supportComments, line, state, offsetDelta, stopAtOffset);\n        }\n    };\n}\nexport var TOKEN_DELIM_OBJECT = 'delimiter.bracket.json';\nexport var TOKEN_DELIM_ARRAY = 'delimiter.array.json';\nexport var TOKEN_DELIM_COLON = 'delimiter.colon.json';\nexport var TOKEN_DELIM_COMMA = 'delimiter.comma.json';\nexport var TOKEN_VALUE_BOOLEAN = 'keyword.json';\nexport var TOKEN_VALUE_NULL = 'keyword.json';\nexport var TOKEN_VALUE_STRING = 'string.value.json';\nexport var TOKEN_VALUE_NUMBER = 'number.json';\nexport var TOKEN_PROPERTY_NAME = 'string.key.json';\nexport var TOKEN_COMMENT_BLOCK = 'comment.block.json';\nexport var TOKEN_COMMENT_LINE = 'comment.line.json';\nvar ParentsStack = /** @class */ (function () {\n    function ParentsStack(parent, type) {\n        this.parent = parent;\n        this.type = type;\n    }\n    ParentsStack.pop = function (parents) {\n        if (parents) {\n            return parents.parent;\n        }\n        return null;\n    };\n    ParentsStack.push = function (parents, type) {\n        return new ParentsStack(parents, type);\n    };\n    ParentsStack.equals = function (a, b) {\n        if (!a && !b) {\n            return true;\n        }\n        if (!a || !b) {\n            return false;\n        }\n        while (a && b) {\n            if (a === b) {\n                return true;\n            }\n            if (a.type !== b.type) {\n                return false;\n            }\n            a = a.parent;\n            b = b.parent;\n        }\n        return true;\n    };\n    return ParentsStack;\n}());\nvar JSONState = /** @class */ (function () {\n    function JSONState(state, scanError, lastWasColon, parents) {\n        this._state = state;\n        this.scanError = scanError;\n        this.lastWasColon = lastWasColon;\n        this.parents = parents;\n    }\n    JSONState.prototype.clone = function () {\n        return new JSONState(this._state, this.scanError, this.lastWasColon, this.parents);\n    };\n    JSONState.prototype.equals = function (other) {\n        if (other === this) {\n            return true;\n        }\n        if (!other || !(other instanceof JSONState)) {\n            return false;\n        }\n        return (this.scanError === other.scanError &&\n            this.lastWasColon === other.lastWasColon &&\n            ParentsStack.equals(this.parents, other.parents));\n    };\n    JSONState.prototype.getStateData = function () {\n        return this._state;\n    };\n    JSONState.prototype.setStateData = function (state) {\n        this._state = state;\n    };\n    return JSONState;\n}());\nfunction tokenize(comments, line, state, offsetDelta, stopAtOffset) {\n    if (offsetDelta === void 0) { offsetDelta = 0; }\n    // handle multiline strings and block comments\n    var numberOfInsertedCharacters = 0;\n    var adjustOffset = false;\n    switch (state.scanError) {\n        case 2 /* UnexpectedEndOfString */:\n            line = '\"' + line;\n            numberOfInsertedCharacters = 1;\n            break;\n        case 1 /* UnexpectedEndOfComment */:\n            line = '/*' + line;\n            numberOfInsertedCharacters = 2;\n            break;\n    }\n    var scanner = json.createScanner(line);\n    var lastWasColon = state.lastWasColon;\n    var parents = state.parents;\n    var ret = {\n        tokens: [],\n        endState: state.clone()\n    };\n    while (true) {\n        var offset = offsetDelta + scanner.getPosition();\n        var type = '';\n        var kind = scanner.scan();\n        if (kind === 17 /* EOF */) {\n            break;\n        }\n        // Check that the scanner has advanced\n        if (offset === offsetDelta + scanner.getPosition()) {\n            throw new Error('Scanner did not advance, next 3 characters are: ' + line.substr(scanner.getPosition(), 3));\n        }\n        // In case we inserted /* or \" character, we need to\n        // adjust the offset of all tokens (except the first)\n        if (adjustOffset) {\n            offset -= numberOfInsertedCharacters;\n        }\n        adjustOffset = numberOfInsertedCharacters > 0;\n        // brackets and type\n        switch (kind) {\n            case 1 /* OpenBraceToken */:\n                parents = ParentsStack.push(parents, 0 /* Object */);\n                type = TOKEN_DELIM_OBJECT;\n                lastWasColon = false;\n                break;\n            case 2 /* CloseBraceToken */:\n                parents = ParentsStack.pop(parents);\n                type = TOKEN_DELIM_OBJECT;\n                lastWasColon = false;\n                break;\n            case 3 /* OpenBracketToken */:\n                parents = ParentsStack.push(parents, 1 /* Array */);\n                type = TOKEN_DELIM_ARRAY;\n                lastWasColon = false;\n                break;\n            case 4 /* CloseBracketToken */:\n                parents = ParentsStack.pop(parents);\n                type = TOKEN_DELIM_ARRAY;\n                lastWasColon = false;\n                break;\n            case 6 /* ColonToken */:\n                type = TOKEN_DELIM_COLON;\n                lastWasColon = true;\n                break;\n            case 5 /* CommaToken */:\n                type = TOKEN_DELIM_COMMA;\n                lastWasColon = false;\n                break;\n            case 8 /* TrueKeyword */:\n            case 9 /* FalseKeyword */:\n                type = TOKEN_VALUE_BOOLEAN;\n                lastWasColon = false;\n                break;\n            case 7 /* NullKeyword */:\n                type = TOKEN_VALUE_NULL;\n                lastWasColon = false;\n                break;\n            case 10 /* StringLiteral */:\n                var currentParent = parents ? parents.type : 0 /* Object */;\n                var inArray = currentParent === 1 /* Array */;\n                type = lastWasColon || inArray ? TOKEN_VALUE_STRING : TOKEN_PROPERTY_NAME;\n                lastWasColon = false;\n                break;\n            case 11 /* NumericLiteral */:\n                type = TOKEN_VALUE_NUMBER;\n                lastWasColon = false;\n                break;\n        }\n        // comments, iff enabled\n        if (comments) {\n            switch (kind) {\n                case 12 /* LineCommentTrivia */:\n                    type = TOKEN_COMMENT_LINE;\n                    break;\n                case 13 /* BlockCommentTrivia */:\n                    type = TOKEN_COMMENT_BLOCK;\n                    break;\n            }\n        }\n        ret.endState = new JSONState(state.getStateData(), scanner.getTokenError(), lastWasColon, parents);\n        ret.tokens.push({\n            startIndex: offset,\n            scopes: type\n        });\n    }\n    return ret;\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { WorkerManager } from './workerManager.js';\nimport * as languageFeatures from './languageFeatures.js';\nimport { createTokenizationSupport } from './tokenization.js';\nimport { languages } from './fillers/monaco-editor-core.js';\nexport function setupMode(defaults) {\n    var disposables = [];\n    var providers = [];\n    var client = new WorkerManager(defaults);\n    disposables.push(client);\n    var worker = function () {\n        var uris = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            uris[_i] = arguments[_i];\n        }\n        return client.getLanguageServiceWorker.apply(client, uris);\n    };\n    function registerProviders() {\n        var languageId = defaults.languageId, modeConfiguration = defaults.modeConfiguration;\n        disposeAll(providers);\n        if (modeConfiguration.documentFormattingEdits) {\n            providers.push(languages.registerDocumentFormattingEditProvider(languageId, new languageFeatures.DocumentFormattingEditProvider(worker)));\n        }\n        if (modeConfiguration.documentRangeFormattingEdits) {\n            providers.push(languages.registerDocumentRangeFormattingEditProvider(languageId, new languageFeatures.DocumentRangeFormattingEditProvider(worker)));\n        }\n        if (modeConfiguration.completionItems) {\n            providers.push(languages.registerCompletionItemProvider(languageId, new languageFeatures.CompletionAdapter(worker)));\n        }\n        if (modeConfiguration.hovers) {\n            providers.push(languages.registerHoverProvider(languageId, new languageFeatures.HoverAdapter(worker)));\n        }\n        if (modeConfiguration.documentSymbols) {\n            providers.push(languages.registerDocumentSymbolProvider(languageId, new languageFeatures.DocumentSymbolAdapter(worker)));\n        }\n        if (modeConfiguration.tokens) {\n            providers.push(languages.setTokensProvider(languageId, createTokenizationSupport(true)));\n        }\n        if (modeConfiguration.colors) {\n            providers.push(languages.registerColorProvider(languageId, new languageFeatures.DocumentColorAdapter(worker)));\n        }\n        if (modeConfiguration.foldingRanges) {\n            providers.push(languages.registerFoldingRangeProvider(languageId, new languageFeatures.FoldingRangeAdapter(worker)));\n        }\n        if (modeConfiguration.diagnostics) {\n            providers.push(new languageFeatures.DiagnosticsAdapter(languageId, worker, defaults));\n        }\n        if (modeConfiguration.selectionRanges) {\n            providers.push(languages.registerSelectionRangeProvider(languageId, new languageFeatures.SelectionRangeAdapter(worker)));\n        }\n    }\n    registerProviders();\n    disposables.push(languages.setLanguageConfiguration(defaults.languageId, richEditConfiguration));\n    var modeConfiguration = defaults.modeConfiguration;\n    defaults.onDidChange(function (newDefaults) {\n        if (newDefaults.modeConfiguration !== modeConfiguration) {\n            modeConfiguration = newDefaults.modeConfiguration;\n            registerProviders();\n        }\n    });\n    disposables.push(asDisposable(providers));\n    return asDisposable(disposables);\n}\nfunction asDisposable(disposables) {\n    return { dispose: function () { return disposeAll(disposables); } };\n}\nfunction disposeAll(disposables) {\n    while (disposables.length) {\n        disposables.pop().dispose();\n    }\n}\nvar richEditConfiguration = {\n    wordPattern: /(-?\\d*\\.\\d\\w*)|([^\\[\\{\\]\\}\\:\\\"\\,\\s]+)/g,\n    comments: {\n        lineComment: '//',\n        blockComment: ['/*', '*/']\n    },\n    brackets: [\n        ['{', '}'],\n        ['[', ']']\n    ],\n    autoClosingPairs: [\n        { open: '{', close: '}', notIn: ['string'] },\n        { open: '[', close: ']', notIn: ['string'] },\n        { open: '\"', close: '\"', notIn: ['string'] }\n    ]\n};\n"],"sourceRoot":""}