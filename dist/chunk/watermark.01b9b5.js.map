{"version":3,"sources":["webpack:///./node_modules/web-watermark/lib/webWatermark.js"],"names":["t","e","module","exports","window","n","r","o","i","l","call","m","c","d","Object","defineProperty","enumerable","get","Symbol","toStringTag","value","__esModule","create","bind","default","prototype","hasOwnProperty","p","s","configurable","writable","arguments","length","this","text","x","y","width","height","fontSize","a","fontFamily","color","deg","alpha","console","log","svgStr","options","debug","debugRender","unescape","encodeURIComponent","btoa","initCnt","document","createElement","dpr","style","beginPath","rect","canvas","lineWidth","strokeStyle","stroke","body","appendChild","u","fontStyle","h","getContext","clearRect","font","fillStyle","globalAlpha","scale","translate","rotate","Math","PI","fillText","toDataURL","devicePixelRatio","round","keys","getOwnPropertySymbols","concat","filter","getOwnPropertyDescriptor","forEach","mode","container","watch","indexOf","Error","position","top","bottom","left","right","zIndex","pointerEvents","backgroundSize","destroy","toString","wm","$wmInit","wrapEl","$wmWrapInit","render","backgroundImage","watcher","MutationObserver","removedNodes","observe","attributes","childList","subtree","characterData","targetWatcher","parentWatcher","clean","disconnect","remove"],"mappings":"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","file":"chunk/watermark.01b9b5.js","sourcesContent":["!function(t,e){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define([],e):\"object\"==typeof exports?exports.webWatermark=e():t.webWatermark=e()}(window,function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(t,\"__esModule\",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&\"object\"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,\"default\",{enumerable:!0,value:t}),2&e&&\"string\"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,\"a\",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p=\"\",n(n.s=0)}([function(t,e,n){\"use strict\";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.r(e);class o{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,\"initCnt\",t=>{const e=t.text,n=t.x,r=t.y,o=t.width,i=t.height,s=t.fontSize,a=t.fontFamily,l=t.color,c=t.deg;return`\\n      <svg width=\"${o}\" height=\"${i}\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">\\n        <text\\n          x=\"${n}\"\\n          y=\"${r}\"\\n          dy=\"${s}\"\\n          font-size=\"${s}\"\\n          font-weight=\"500\"\\n          font-family=\"${a}\"\\n          text-anchor=\"start\"\\n          fill=\"${l}\"\\n          fill-opacity=\"${t.alpha}\"\\n          transform=\"rotate(${c}, ${n}, ${r})\"\\n        >${e}</text>\\n      </svg>\\n    `}),r(this,\"debugRender\",()=>{console.log(this.svgStr)}),r(this,\"render\",()=>{!0===this.options.debug&&this.debugRender();const t=unescape(encodeURIComponent(this.svgStr));return`data:image/svg+xml;base64,${btoa(t)}`}),this.options=t,this.svgStr=this.initCnt(t)}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class s{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,\"initCnt\",t=>{const e=t.width,n=t.height,r=document.createElement(\"canvas\");return r.width=e*this.dpr,r.height=n*this.dpr,r.style.width=`${e}px`,r.style.height=`${n}px`,r}),i(this,\"debugRender\",t=>{console.log(\"dpr\",this.dpr),t.beginPath(),t.rect(0,0,this.canvas.width,this.canvas.height),t.lineWidth=1,t.strokeStyle=\"red\",t.stroke(),document.body.appendChild(this.canvas)}),i(this,\"render\",()=>{const t=this.options,e=t.text,n=t.x,r=t.y,o=t.width,i=t.height,s=t.deg,a=t.alpha,l=t.fontSize,c=t.fontFamily,u=t.fontStyle,h=t.color,d=this.canvas.getContext(\"2d\");return d.clearRect(0,0,o,i),!0===this.options.debug&&this.debugRender(d),d.font=`${u} ${l}px ${c}`,d.fillStyle=h,d.globalAlpha=a,d.scale(this.dpr,this.dpr),d.translate(n,r),d.rotate(Math.PI*s/180),d.translate(-n,-r+l),d.fillText(e,n,r),this.canvas.toDataURL()}),this.options=t,this.dpr=function(){const t=window.devicePixelRatio;return t?Math.round(t):2}(),this.canvas=this.initCnt(t)}}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);\"function\"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){l(t,e,n[e])})}return t}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}const c={mode:\"canvas\",container:document.body,text:\"敏感信息请勿泄漏\",watch:!0,x:0,y:50,width:150,height:100,color:\"#000\",fontSize:12,fontStyle:\"normal\",fontFamily:\"sans-serif\",alpha:.15,deg:-15};e.default=class{constructor(){var t=this;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(this,\"$wmInit\",()=>{const t=this.options.mode;if(-1===[\"svg\",\"canvas\"].indexOf(t))throw new Error(`No this mode: ${t}, you could use 'svg' or 'canvas' only.`);return\"svg\"===t?new o(this.options):\"canvas\"===t?new s(this.options):null}),l(this,\"$wmWrapInit\",()=>{const t=document.createElement(\"div\");return t.style.position=\"absolute\",t.style.top=\"0\",t.style.bottom=\"0\",t.style.left=\"0\",t.style.right=\"0\",t.style.zIndex=\"99999\",t.style.pointerEvents=\"none\",t.style.backgroundSize=`${this.options.width}px`,t}),l(this,\"render\",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t.destroy(),\"[object Object]\"===Object.prototype.toString.call(e)&&(t.options=a({},t.options,e)),t.wm=t.$wmInit(),t.wrapEl=t.$wmWrapInit();const n=t.wm.render();t.wrapEl.style.backgroundImage=`url(\"${n}\")`;const r=t.options,o=r.container,i=r.watch;o.appendChild(t.wrapEl),i&&(t.watcher=function(t,e,n){const r=new MutationObserver(n),o=new MutationObserver(e=>{e.forEach(e=>{e.removedNodes.forEach(e=>{e===t&&n()})})});return r.observe(t,{attributes:!0,childList:!0,subtree:!0,characterData:!0}),o.observe(e,{childList:!0}),{targetWatcher:r,parentWatcher:o,clean:()=>{o.disconnect(),r.disconnect()}}}(t.wrapEl,o,()=>{t.render(t.options)}))}),l(this,\"destroy\",()=>{this.wm=null,this.watcher&&this.watcher.clean(),this.wrapEl&&(this.wrapEl.remove(),this.wrapEl=null)}),this.options=a({},c,e),this.wm=null,this.wrapEl=null,this.watcher=null}}}])});"],"sourceRoot":""}