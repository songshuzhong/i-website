{"version":3,"sources":["webpack:///./node_modules/monaco-editor/esm/vs/language/css/workerManager.js","webpack:///./node_modules/monaco-editor/esm/vs/language/css/languageFeatures.js","webpack:///./node_modules/monaco-editor/esm/vs/language/css/cssMode.js"],"names":["STOP_WHEN_IDLE_FOR","WorkerManager","defaults","_this","this","_defaults","_worker","_idleCheckInterval","window","setInterval","_checkIfIdle","_lastUsedTime","_configChangeListener","onDidChange","_stopWorker","prototype","dispose","_client","clearInterval","timePassedSinceLastUsed","Date","now","_getClient","createWebWorker","moduleId","label","languageId","createData","options","getProxy","getLanguageServiceWorker","resources","_i","arguments","length","then","client","_","withSyncedResources","DiagnosticsAdapter","_languageId","_disposables","_listener","Object","create","onModelAdd","model","handle","modeId","getLanguageId","uri","toString","onDidChangeContent","clearTimeout","setTimeout","_doValidate","onModelRemoved","setModelMarkers","uriStr","listener","push","onDidCreateModel","onWillDisposeModel","onDidChangeModelLanguage","event","getModels","forEach","key","d","resource","worker","doValidation","diagnostics","markers","map","toDiagnostics","getModel","undefined","err","console","error","toSeverity","lsSeverity","Error","Warning","Information","Info","Hint","diag","code","String","severity","startLineNumber","range","start","line","startColumn","character","endLineNumber","end","endColumn","message","source","fromPosition","position","column","lineNumber","fromRange","toRange","isInsertReplaceEdit","edit","insert","replace","toCompletionItemKind","kind","mItemKind","CompletionItemKind","Text","Method","Function","Constructor","Field","Variable","Class","Interface","Module","Property","Unit","Value","Enum","Keyword","Snippet","Color","File","Reference","toTextEdit","textEdit","text","newText","toCommand","c","command","id","title","CompletionAdapter","defineProperty","get","enumerable","configurable","provideCompletionItems","context","token","doComplete","info","wordInfo","getWordUntilPosition","wordRange","items","entry","item","insertText","sortText","filterText","documentation","detail","additionalTextEdits","insertTextFormat","insertTextRules","CompletionItemInsertTextRule","InsertAsSnippet","isIncomplete","suggestions","isMarkupContent","thing","toMarkdownString","value","language","toMarkedStringArray","contents","Array","isArray","HoverAdapter","provideHover","doHover","toDocumentHighlightKind","Read","DocumentHighlightKind","Write","DocumentHighlightAdapter","provideDocumentHighlights","findDocumentHighlights","entries","toLocation","location","parse","DefinitionAdapter","provideDefinition","findDefinition","definition","ReferenceAdapter","provideReferences","findReferences","toWorkspaceEdit","changes","resourceEdits","_uri","_a","e","edits","RenameAdapter","provideRenameEdits","newName","doRename","toSymbolKind","mKind","SymbolKind","Namespace","Package","Constant","Number","Boolean","DocumentSymbolAdapter","provideDocumentSymbols","findDocumentSymbols","name","containerName","tags","selectionRange","DocumentColorAdapter","provideDocumentColors","findDocumentColors","infos","color","provideColorPresentations","getColorPresentations","presentations","presentation","FoldingRangeAdapter","provideFoldingRanges","getFoldingRanges","ranges","result","startLine","endLine","toFoldingRangeKind","Comment","FoldingRangeKind","Imports","Region","SelectionRangeAdapter","provideSelectionRanges","positions","getSelectionRanges","selectionRanges","parent","setupMode","disposables","providers","uris","apply","registerProviders","modeConfiguration","disposeAll","completionItems","registerCompletionItemProvider","hovers","registerHoverProvider","documentHighlights","registerDocumentHighlightProvider","definitions","registerDefinitionProvider","references","registerReferenceProvider","documentSymbols","registerDocumentSymbolProvider","rename","registerRenameProvider","colors","registerColorProvider","foldingRanges","registerFoldingRangeProvider","registerSelectionRangeProvider","asDisposable","pop"],"mappings":"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","file":"chunk/chunk-2d228ca6.de6e24.js","sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { editor } from './fillers/monaco-editor-core.js';\nvar STOP_WHEN_IDLE_FOR = 2 * 60 * 1000; // 2min\nvar WorkerManager = /** @class */ (function () {\n    function WorkerManager(defaults) {\n        var _this = this;\n        this._defaults = defaults;\n        this._worker = null;\n        this._idleCheckInterval = window.setInterval(function () { return _this._checkIfIdle(); }, 30 * 1000);\n        this._lastUsedTime = 0;\n        this._configChangeListener = this._defaults.onDidChange(function () { return _this._stopWorker(); });\n    }\n    WorkerManager.prototype._stopWorker = function () {\n        if (this._worker) {\n            this._worker.dispose();\n            this._worker = null;\n        }\n        this._client = null;\n    };\n    WorkerManager.prototype.dispose = function () {\n        clearInterval(this._idleCheckInterval);\n        this._configChangeListener.dispose();\n        this._stopWorker();\n    };\n    WorkerManager.prototype._checkIfIdle = function () {\n        if (!this._worker) {\n            return;\n        }\n        var timePassedSinceLastUsed = Date.now() - this._lastUsedTime;\n        if (timePassedSinceLastUsed > STOP_WHEN_IDLE_FOR) {\n            this._stopWorker();\n        }\n    };\n    WorkerManager.prototype._getClient = function () {\n        this._lastUsedTime = Date.now();\n        if (!this._client) {\n            this._worker = editor.createWebWorker({\n                // module that exports the create() method and returns a `CSSWorker` instance\n                moduleId: 'vs/language/css/cssWorker',\n                label: this._defaults.languageId,\n                // passed in to the create() method\n                createData: {\n                    options: this._defaults.options,\n                    languageId: this._defaults.languageId\n                }\n            });\n            this._client = this._worker.getProxy();\n        }\n        return this._client;\n    };\n    WorkerManager.prototype.getLanguageServiceWorker = function () {\n        var _this = this;\n        var resources = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            resources[_i] = arguments[_i];\n        }\n        var _client;\n        return this._getClient()\n            .then(function (client) {\n            _client = client;\n        })\n            .then(function (_) {\n            return _this._worker.withSyncedResources(resources);\n        })\n            .then(function (_) { return _client; });\n    };\n    return WorkerManager;\n}());\nexport { WorkerManager };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as lsTypes from './_deps/vscode-languageserver-types/main.js';\nimport { languages, editor, Uri, Range, MarkerSeverity } from './fillers/monaco-editor-core.js';\n// --- diagnostics --- ---\nvar DiagnosticsAdapter = /** @class */ (function () {\n    function DiagnosticsAdapter(_languageId, _worker, defaults) {\n        var _this = this;\n        this._languageId = _languageId;\n        this._worker = _worker;\n        this._disposables = [];\n        this._listener = Object.create(null);\n        var onModelAdd = function (model) {\n            var modeId = model.getLanguageId();\n            if (modeId !== _this._languageId) {\n                return;\n            }\n            var handle;\n            _this._listener[model.uri.toString()] = model.onDidChangeContent(function () {\n                window.clearTimeout(handle);\n                handle = window.setTimeout(function () { return _this._doValidate(model.uri, modeId); }, 500);\n            });\n            _this._doValidate(model.uri, modeId);\n        };\n        var onModelRemoved = function (model) {\n            editor.setModelMarkers(model, _this._languageId, []);\n            var uriStr = model.uri.toString();\n            var listener = _this._listener[uriStr];\n            if (listener) {\n                listener.dispose();\n                delete _this._listener[uriStr];\n            }\n        };\n        this._disposables.push(editor.onDidCreateModel(onModelAdd));\n        this._disposables.push(editor.onWillDisposeModel(onModelRemoved));\n        this._disposables.push(editor.onDidChangeModelLanguage(function (event) {\n            onModelRemoved(event.model);\n            onModelAdd(event.model);\n        }));\n        defaults.onDidChange(function (_) {\n            editor.getModels().forEach(function (model) {\n                if (model.getLanguageId() === _this._languageId) {\n                    onModelRemoved(model);\n                    onModelAdd(model);\n                }\n            });\n        });\n        this._disposables.push({\n            dispose: function () {\n                for (var key in _this._listener) {\n                    _this._listener[key].dispose();\n                }\n            }\n        });\n        editor.getModels().forEach(onModelAdd);\n    }\n    DiagnosticsAdapter.prototype.dispose = function () {\n        this._disposables.forEach(function (d) { return d && d.dispose(); });\n        this._disposables = [];\n    };\n    DiagnosticsAdapter.prototype._doValidate = function (resource, languageId) {\n        this._worker(resource)\n            .then(function (worker) {\n            return worker.doValidation(resource.toString());\n        })\n            .then(function (diagnostics) {\n            var markers = diagnostics.map(function (d) { return toDiagnostics(resource, d); });\n            var model = editor.getModel(resource);\n            if (model && model.getLanguageId() === languageId) {\n                editor.setModelMarkers(model, languageId, markers);\n            }\n        })\n            .then(undefined, function (err) {\n            console.error(err);\n        });\n    };\n    return DiagnosticsAdapter;\n}());\nexport { DiagnosticsAdapter };\nfunction toSeverity(lsSeverity) {\n    switch (lsSeverity) {\n        case lsTypes.DiagnosticSeverity.Error:\n            return MarkerSeverity.Error;\n        case lsTypes.DiagnosticSeverity.Warning:\n            return MarkerSeverity.Warning;\n        case lsTypes.DiagnosticSeverity.Information:\n            return MarkerSeverity.Info;\n        case lsTypes.DiagnosticSeverity.Hint:\n            return MarkerSeverity.Hint;\n        default:\n            return MarkerSeverity.Info;\n    }\n}\nfunction toDiagnostics(resource, diag) {\n    var code = typeof diag.code === 'number' ? String(diag.code) : diag.code;\n    return {\n        severity: toSeverity(diag.severity),\n        startLineNumber: diag.range.start.line + 1,\n        startColumn: diag.range.start.character + 1,\n        endLineNumber: diag.range.end.line + 1,\n        endColumn: diag.range.end.character + 1,\n        message: diag.message,\n        code: code,\n        source: diag.source\n    };\n}\n// --- completion ------\nfunction fromPosition(position) {\n    if (!position) {\n        return void 0;\n    }\n    return { character: position.column - 1, line: position.lineNumber - 1 };\n}\nfunction fromRange(range) {\n    if (!range) {\n        return void 0;\n    }\n    return {\n        start: {\n            line: range.startLineNumber - 1,\n            character: range.startColumn - 1\n        },\n        end: { line: range.endLineNumber - 1, character: range.endColumn - 1 }\n    };\n}\nfunction toRange(range) {\n    if (!range) {\n        return void 0;\n    }\n    return new Range(range.start.line + 1, range.start.character + 1, range.end.line + 1, range.end.character + 1);\n}\nfunction isInsertReplaceEdit(edit) {\n    return (typeof edit.insert !== 'undefined' &&\n        typeof edit.replace !== 'undefined');\n}\nfunction toCompletionItemKind(kind) {\n    var mItemKind = languages.CompletionItemKind;\n    switch (kind) {\n        case lsTypes.CompletionItemKind.Text:\n            return mItemKind.Text;\n        case lsTypes.CompletionItemKind.Method:\n            return mItemKind.Method;\n        case lsTypes.CompletionItemKind.Function:\n            return mItemKind.Function;\n        case lsTypes.CompletionItemKind.Constructor:\n            return mItemKind.Constructor;\n        case lsTypes.CompletionItemKind.Field:\n            return mItemKind.Field;\n        case lsTypes.CompletionItemKind.Variable:\n            return mItemKind.Variable;\n        case lsTypes.CompletionItemKind.Class:\n            return mItemKind.Class;\n        case lsTypes.CompletionItemKind.Interface:\n            return mItemKind.Interface;\n        case lsTypes.CompletionItemKind.Module:\n            return mItemKind.Module;\n        case lsTypes.CompletionItemKind.Property:\n            return mItemKind.Property;\n        case lsTypes.CompletionItemKind.Unit:\n            return mItemKind.Unit;\n        case lsTypes.CompletionItemKind.Value:\n            return mItemKind.Value;\n        case lsTypes.CompletionItemKind.Enum:\n            return mItemKind.Enum;\n        case lsTypes.CompletionItemKind.Keyword:\n            return mItemKind.Keyword;\n        case lsTypes.CompletionItemKind.Snippet:\n            return mItemKind.Snippet;\n        case lsTypes.CompletionItemKind.Color:\n            return mItemKind.Color;\n        case lsTypes.CompletionItemKind.File:\n            return mItemKind.File;\n        case lsTypes.CompletionItemKind.Reference:\n            return mItemKind.Reference;\n    }\n    return mItemKind.Property;\n}\nfunction toTextEdit(textEdit) {\n    if (!textEdit) {\n        return void 0;\n    }\n    return {\n        range: toRange(textEdit.range),\n        text: textEdit.newText\n    };\n}\nfunction toCommand(c) {\n    return c && c.command === 'editor.action.triggerSuggest'\n        ? { id: c.command, title: c.title, arguments: c.arguments }\n        : undefined;\n}\nvar CompletionAdapter = /** @class */ (function () {\n    function CompletionAdapter(_worker) {\n        this._worker = _worker;\n    }\n    Object.defineProperty(CompletionAdapter.prototype, \"triggerCharacters\", {\n        get: function () {\n            return ['/', '-', ':'];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    CompletionAdapter.prototype.provideCompletionItems = function (model, position, context, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) {\n            return worker.doComplete(resource.toString(), fromPosition(position));\n        })\n            .then(function (info) {\n            if (!info) {\n                return;\n            }\n            var wordInfo = model.getWordUntilPosition(position);\n            var wordRange = new Range(position.lineNumber, wordInfo.startColumn, position.lineNumber, wordInfo.endColumn);\n            var items = info.items.map(function (entry) {\n                var item = {\n                    label: entry.label,\n                    insertText: entry.insertText || entry.label,\n                    sortText: entry.sortText,\n                    filterText: entry.filterText,\n                    documentation: entry.documentation,\n                    detail: entry.detail,\n                    command: toCommand(entry.command),\n                    range: wordRange,\n                    kind: toCompletionItemKind(entry.kind)\n                };\n                if (entry.textEdit) {\n                    if (isInsertReplaceEdit(entry.textEdit)) {\n                        item.range = {\n                            insert: toRange(entry.textEdit.insert),\n                            replace: toRange(entry.textEdit.replace)\n                        };\n                    }\n                    else {\n                        item.range = toRange(entry.textEdit.range);\n                    }\n                    item.insertText = entry.textEdit.newText;\n                }\n                if (entry.additionalTextEdits) {\n                    item.additionalTextEdits = entry.additionalTextEdits.map(toTextEdit);\n                }\n                if (entry.insertTextFormat === lsTypes.InsertTextFormat.Snippet) {\n                    item.insertTextRules = languages.CompletionItemInsertTextRule.InsertAsSnippet;\n                }\n                return item;\n            });\n            return {\n                isIncomplete: info.isIncomplete,\n                suggestions: items\n            };\n        });\n    };\n    return CompletionAdapter;\n}());\nexport { CompletionAdapter };\nfunction isMarkupContent(thing) {\n    return (thing && typeof thing === 'object' && typeof thing.kind === 'string');\n}\nfunction toMarkdownString(entry) {\n    if (typeof entry === 'string') {\n        return {\n            value: entry\n        };\n    }\n    if (isMarkupContent(entry)) {\n        if (entry.kind === 'plaintext') {\n            return {\n                value: entry.value.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&')\n            };\n        }\n        return {\n            value: entry.value\n        };\n    }\n    return { value: '```' + entry.language + '\\n' + entry.value + '\\n```\\n' };\n}\nfunction toMarkedStringArray(contents) {\n    if (!contents) {\n        return void 0;\n    }\n    if (Array.isArray(contents)) {\n        return contents.map(toMarkdownString);\n    }\n    return [toMarkdownString(contents)];\n}\n// --- hover ------\nvar HoverAdapter = /** @class */ (function () {\n    function HoverAdapter(_worker) {\n        this._worker = _worker;\n    }\n    HoverAdapter.prototype.provideHover = function (model, position, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) {\n            return worker.doHover(resource.toString(), fromPosition(position));\n        })\n            .then(function (info) {\n            if (!info) {\n                return;\n            }\n            return {\n                range: toRange(info.range),\n                contents: toMarkedStringArray(info.contents)\n            };\n        });\n    };\n    return HoverAdapter;\n}());\nexport { HoverAdapter };\n// --- document highlights ------\nfunction toDocumentHighlightKind(kind) {\n    switch (kind) {\n        case lsTypes.DocumentHighlightKind.Read:\n            return languages.DocumentHighlightKind.Read;\n        case lsTypes.DocumentHighlightKind.Write:\n            return languages.DocumentHighlightKind.Write;\n        case lsTypes.DocumentHighlightKind.Text:\n            return languages.DocumentHighlightKind.Text;\n    }\n    return languages.DocumentHighlightKind.Text;\n}\nvar DocumentHighlightAdapter = /** @class */ (function () {\n    function DocumentHighlightAdapter(_worker) {\n        this._worker = _worker;\n    }\n    DocumentHighlightAdapter.prototype.provideDocumentHighlights = function (model, position, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) {\n            return worker.findDocumentHighlights(resource.toString(), fromPosition(position));\n        })\n            .then(function (entries) {\n            if (!entries) {\n                return;\n            }\n            return entries.map(function (entry) {\n                return {\n                    range: toRange(entry.range),\n                    kind: toDocumentHighlightKind(entry.kind)\n                };\n            });\n        });\n    };\n    return DocumentHighlightAdapter;\n}());\nexport { DocumentHighlightAdapter };\n// --- definition ------\nfunction toLocation(location) {\n    return {\n        uri: Uri.parse(location.uri),\n        range: toRange(location.range)\n    };\n}\nvar DefinitionAdapter = /** @class */ (function () {\n    function DefinitionAdapter(_worker) {\n        this._worker = _worker;\n    }\n    DefinitionAdapter.prototype.provideDefinition = function (model, position, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) {\n            return worker.findDefinition(resource.toString(), fromPosition(position));\n        })\n            .then(function (definition) {\n            if (!definition) {\n                return;\n            }\n            return [toLocation(definition)];\n        });\n    };\n    return DefinitionAdapter;\n}());\nexport { DefinitionAdapter };\n// --- references ------\nvar ReferenceAdapter = /** @class */ (function () {\n    function ReferenceAdapter(_worker) {\n        this._worker = _worker;\n    }\n    ReferenceAdapter.prototype.provideReferences = function (model, position, context, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) {\n            return worker.findReferences(resource.toString(), fromPosition(position));\n        })\n            .then(function (entries) {\n            if (!entries) {\n                return;\n            }\n            return entries.map(toLocation);\n        });\n    };\n    return ReferenceAdapter;\n}());\nexport { ReferenceAdapter };\n// --- rename ------\nfunction toWorkspaceEdit(edit) {\n    if (!edit || !edit.changes) {\n        return void 0;\n    }\n    var resourceEdits = [];\n    for (var uri in edit.changes) {\n        var _uri = Uri.parse(uri);\n        // let edits: languages.TextEdit[] = [];\n        for (var _i = 0, _a = edit.changes[uri]; _i < _a.length; _i++) {\n            var e = _a[_i];\n            resourceEdits.push({\n                resource: _uri,\n                edit: {\n                    range: toRange(e.range),\n                    text: e.newText\n                }\n            });\n        }\n    }\n    return {\n        edits: resourceEdits\n    };\n}\nvar RenameAdapter = /** @class */ (function () {\n    function RenameAdapter(_worker) {\n        this._worker = _worker;\n    }\n    RenameAdapter.prototype.provideRenameEdits = function (model, position, newName, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) {\n            return worker.doRename(resource.toString(), fromPosition(position), newName);\n        })\n            .then(function (edit) {\n            return toWorkspaceEdit(edit);\n        });\n    };\n    return RenameAdapter;\n}());\nexport { RenameAdapter };\n// --- document symbols ------\nfunction toSymbolKind(kind) {\n    var mKind = languages.SymbolKind;\n    switch (kind) {\n        case lsTypes.SymbolKind.File:\n            return mKind.Array;\n        case lsTypes.SymbolKind.Module:\n            return mKind.Module;\n        case lsTypes.SymbolKind.Namespace:\n            return mKind.Namespace;\n        case lsTypes.SymbolKind.Package:\n            return mKind.Package;\n        case lsTypes.SymbolKind.Class:\n            return mKind.Class;\n        case lsTypes.SymbolKind.Method:\n            return mKind.Method;\n        case lsTypes.SymbolKind.Property:\n            return mKind.Property;\n        case lsTypes.SymbolKind.Field:\n            return mKind.Field;\n        case lsTypes.SymbolKind.Constructor:\n            return mKind.Constructor;\n        case lsTypes.SymbolKind.Enum:\n            return mKind.Enum;\n        case lsTypes.SymbolKind.Interface:\n            return mKind.Interface;\n        case lsTypes.SymbolKind.Function:\n            return mKind.Function;\n        case lsTypes.SymbolKind.Variable:\n            return mKind.Variable;\n        case lsTypes.SymbolKind.Constant:\n            return mKind.Constant;\n        case lsTypes.SymbolKind.String:\n            return mKind.String;\n        case lsTypes.SymbolKind.Number:\n            return mKind.Number;\n        case lsTypes.SymbolKind.Boolean:\n            return mKind.Boolean;\n        case lsTypes.SymbolKind.Array:\n            return mKind.Array;\n    }\n    return mKind.Function;\n}\nvar DocumentSymbolAdapter = /** @class */ (function () {\n    function DocumentSymbolAdapter(_worker) {\n        this._worker = _worker;\n    }\n    DocumentSymbolAdapter.prototype.provideDocumentSymbols = function (model, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) { return worker.findDocumentSymbols(resource.toString()); })\n            .then(function (items) {\n            if (!items) {\n                return;\n            }\n            return items.map(function (item) { return ({\n                name: item.name,\n                detail: '',\n                containerName: item.containerName,\n                kind: toSymbolKind(item.kind),\n                tags: [],\n                range: toRange(item.location.range),\n                selectionRange: toRange(item.location.range)\n            }); });\n        });\n    };\n    return DocumentSymbolAdapter;\n}());\nexport { DocumentSymbolAdapter };\nvar DocumentColorAdapter = /** @class */ (function () {\n    function DocumentColorAdapter(_worker) {\n        this._worker = _worker;\n    }\n    DocumentColorAdapter.prototype.provideDocumentColors = function (model, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) { return worker.findDocumentColors(resource.toString()); })\n            .then(function (infos) {\n            if (!infos) {\n                return;\n            }\n            return infos.map(function (item) { return ({\n                color: item.color,\n                range: toRange(item.range)\n            }); });\n        });\n    };\n    DocumentColorAdapter.prototype.provideColorPresentations = function (model, info, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) {\n            return worker.getColorPresentations(resource.toString(), info.color, fromRange(info.range));\n        })\n            .then(function (presentations) {\n            if (!presentations) {\n                return;\n            }\n            return presentations.map(function (presentation) {\n                var item = {\n                    label: presentation.label\n                };\n                if (presentation.textEdit) {\n                    item.textEdit = toTextEdit(presentation.textEdit);\n                }\n                if (presentation.additionalTextEdits) {\n                    item.additionalTextEdits = presentation.additionalTextEdits.map(toTextEdit);\n                }\n                return item;\n            });\n        });\n    };\n    return DocumentColorAdapter;\n}());\nexport { DocumentColorAdapter };\nvar FoldingRangeAdapter = /** @class */ (function () {\n    function FoldingRangeAdapter(_worker) {\n        this._worker = _worker;\n    }\n    FoldingRangeAdapter.prototype.provideFoldingRanges = function (model, context, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) { return worker.getFoldingRanges(resource.toString(), context); })\n            .then(function (ranges) {\n            if (!ranges) {\n                return;\n            }\n            return ranges.map(function (range) {\n                var result = {\n                    start: range.startLine + 1,\n                    end: range.endLine + 1\n                };\n                if (typeof range.kind !== 'undefined') {\n                    result.kind = toFoldingRangeKind(range.kind);\n                }\n                return result;\n            });\n        });\n    };\n    return FoldingRangeAdapter;\n}());\nexport { FoldingRangeAdapter };\nfunction toFoldingRangeKind(kind) {\n    switch (kind) {\n        case lsTypes.FoldingRangeKind.Comment:\n            return languages.FoldingRangeKind.Comment;\n        case lsTypes.FoldingRangeKind.Imports:\n            return languages.FoldingRangeKind.Imports;\n        case lsTypes.FoldingRangeKind.Region:\n            return languages.FoldingRangeKind.Region;\n    }\n}\nvar SelectionRangeAdapter = /** @class */ (function () {\n    function SelectionRangeAdapter(_worker) {\n        this._worker = _worker;\n    }\n    SelectionRangeAdapter.prototype.provideSelectionRanges = function (model, positions, token) {\n        var resource = model.uri;\n        return this._worker(resource)\n            .then(function (worker) { return worker.getSelectionRanges(resource.toString(), positions.map(fromPosition)); })\n            .then(function (selectionRanges) {\n            if (!selectionRanges) {\n                return;\n            }\n            return selectionRanges.map(function (selectionRange) {\n                var result = [];\n                while (selectionRange) {\n                    result.push({ range: toRange(selectionRange.range) });\n                    selectionRange = selectionRange.parent;\n                }\n                return result;\n            });\n        });\n    };\n    return SelectionRangeAdapter;\n}());\nexport { SelectionRangeAdapter };\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { WorkerManager } from './workerManager.js';\nimport * as languageFeatures from './languageFeatures.js';\nimport { languages } from './fillers/monaco-editor-core.js';\nexport function setupMode(defaults) {\n    var disposables = [];\n    var providers = [];\n    var client = new WorkerManager(defaults);\n    disposables.push(client);\n    var worker = function () {\n        var uris = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            uris[_i] = arguments[_i];\n        }\n        return client.getLanguageServiceWorker.apply(client, uris);\n    };\n    function registerProviders() {\n        var languageId = defaults.languageId, modeConfiguration = defaults.modeConfiguration;\n        disposeAll(providers);\n        if (modeConfiguration.completionItems) {\n            providers.push(languages.registerCompletionItemProvider(languageId, new languageFeatures.CompletionAdapter(worker)));\n        }\n        if (modeConfiguration.hovers) {\n            providers.push(languages.registerHoverProvider(languageId, new languageFeatures.HoverAdapter(worker)));\n        }\n        if (modeConfiguration.documentHighlights) {\n            providers.push(languages.registerDocumentHighlightProvider(languageId, new languageFeatures.DocumentHighlightAdapter(worker)));\n        }\n        if (modeConfiguration.definitions) {\n            providers.push(languages.registerDefinitionProvider(languageId, new languageFeatures.DefinitionAdapter(worker)));\n        }\n        if (modeConfiguration.references) {\n            providers.push(languages.registerReferenceProvider(languageId, new languageFeatures.ReferenceAdapter(worker)));\n        }\n        if (modeConfiguration.documentSymbols) {\n            providers.push(languages.registerDocumentSymbolProvider(languageId, new languageFeatures.DocumentSymbolAdapter(worker)));\n        }\n        if (modeConfiguration.rename) {\n            providers.push(languages.registerRenameProvider(languageId, new languageFeatures.RenameAdapter(worker)));\n        }\n        if (modeConfiguration.colors) {\n            providers.push(languages.registerColorProvider(languageId, new languageFeatures.DocumentColorAdapter(worker)));\n        }\n        if (modeConfiguration.foldingRanges) {\n            providers.push(languages.registerFoldingRangeProvider(languageId, new languageFeatures.FoldingRangeAdapter(worker)));\n        }\n        if (modeConfiguration.diagnostics) {\n            providers.push(new languageFeatures.DiagnosticsAdapter(languageId, worker, defaults));\n        }\n        if (modeConfiguration.selectionRanges) {\n            providers.push(languages.registerSelectionRangeProvider(languageId, new languageFeatures.SelectionRangeAdapter(worker)));\n        }\n    }\n    registerProviders();\n    disposables.push(asDisposable(providers));\n    return asDisposable(disposables);\n}\nfunction asDisposable(disposables) {\n    return { dispose: function () { return disposeAll(disposables); } };\n}\nfunction disposeAll(disposables) {\n    while (disposables.length) {\n        disposables.pop().dispose();\n    }\n}\n"],"sourceRoot":""}