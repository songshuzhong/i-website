(function(e){function t(t){for(var r,a,s=t[0],c=t[1],d=t[2],l=0,u=[];l<s.length;l++)a=s[l],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&u.push(i[a][0]),i[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);p&&p(t);while(u.length)u.shift()();return o.push.apply(o,d||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,a=1;a<n.length;a++){var s=n[a];0!==i[s]&&(r=!1)}r&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},a={login:0},i={login:0},o=[];function s(e){return c.p+"chunk/"+({}[e]||e)+"."+{"chunk-2d2375a2":"79eaad","chunk-74bd3adc":"510cba","chunk-2d2380f4":"86f3dd","chunk-565c88eb":"744fc4","chunk-7021b684":"a0b64c","chunk-2d0b3106":"04df0a","chunk-76d50c67":"512994","chunk-2d0b3a30":"cf03f8","chunk-2d0e595f":"d5553b","chunk-2d0f05f6":"0b8915","chunk-2d20fcf7":"3b4d1a","chunk-2d21b8cc":"3b7e07"}[e]+".js"}function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-565c88eb":1,"chunk-76d50c67":1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=new Promise((function(t,n){for(var r="css/"+({}[e]||e)+"."+{"chunk-2d2375a2":"31d6cfe0","chunk-74bd3adc":"31d6cfe0","chunk-2d2380f4":"31d6cfe0","chunk-565c88eb":"142961a8","chunk-7021b684":"31d6cfe0","chunk-2d0b3106":"31d6cfe0","chunk-76d50c67":"a3e01b5a","chunk-2d0b3a30":"31d6cfe0","chunk-2d0e595f":"31d6cfe0","chunk-2d0f05f6":"31d6cfe0","chunk-2d20fcf7":"31d6cfe0","chunk-2d21b8cc":"31d6cfe0"}[e]+".css",i=c.p+r,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var d=o[s],l=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(l===r||l===i))return t()}var u=document.getElementsByTagName("style");for(s=0;s<u.length;s++){d=u[s],l=d.getAttribute("data-href");if(l===r||l===i)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var r=t&&t.target&&t.target.src||i,o=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=r,delete a[e],p.parentNode.removeChild(p),n(o)},p.href=i;var h=document.getElementsByTagName("head")[0];h.appendChild(p)})).then((function(){a[e]=0})));var r=i[e];if(0!==r)if(r)t.push(r[2]);else{var o=new Promise((function(t,n){r=i[e]=[t,n]}));t.push(r[2]=o);var d,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(e);var u=new Error;d=function(t){l.onerror=l.onload=null,clearTimeout(p);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+a+")",u.name="ChunkLoadError",u.type=r,u.request=a,n[1](u)}i[e]=void 0}};var p=setTimeout((function(){d({type:"timeout",target:l})}),12e4);l.onerror=l.onload=d,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/i-website/dist/",c.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],l=d.push.bind(d);d.push=t,d=d.slice();for(var u=0;u<d.length;u++)t(d[u]);var p=l;o.push([4,"chunk-vendors","chunk-common"]),n()})({4:function(e,t,n){e.exports=n("4866")},4866:function(e,t,n){"use strict";n.r(t);var r=n("1258"),a=n("9e21"),i=n("656b"),o=n("6ec4"),s=n.n(o);function c(e,t,n,a,i,o){const s=Object(r["resolveComponent"])("i-schema");return Object(r["openBlock"])(),Object(r["createBlock"])(s,{"init-schema":e.loginSchema,canSchemaUpdate:!1},null,8,["init-schema"])}var d={renderer:"page",body:[{renderer:"avatar",src:Object({NODE_ENV:"production",VUE_APP_NODE_ENV:"production",VUE_APP_API_NODE_ENV:"gp",VUE_APP_CONTEXT_PATH_HOME:"/home",VUE_APP_CONTEXT_PATH_WEBSITE:"/website",VUE_APP_API_BASE:"https://songshuzhong.github.io/i-website/public",BASE_URL:"/i-website/dist/"}).VUE_APP_PUBLIC_PATH_HOME+"/shuttle.png",classname:"i-login__logo",previews:[],title:"百搭云平台",shape:"square",borderRadius:0,color:"#606266",bgColor:"#ffffff"},{renderer:"image",src:Object({NODE_ENV:"production",VUE_APP_NODE_ENV:"production",VUE_APP_API_NODE_ENV:"gp",VUE_APP_CONTEXT_PATH_HOME:"/home",VUE_APP_CONTEXT_PATH_WEBSITE:"/website",VUE_APP_API_BASE:"https://songshuzhong.github.io/i-website/public",BASE_URL:"/i-website/dist/"}).VUE_APP_PUBLIC_PATH_HOME+"/img/qqb.png",classname:"i-login__browser-star",previews:[]},{renderer:"tabs",panels:[{label:"登录",icon:"",keepAlive:!0,body:[{renderer:"form",hideRequiredAsterisk:!0,actionApi:{url:"/api/auth/login",method:"post",params:{"*":"*"}},controls:[{renderer:"input",name:"namespace",placeholder:"命名空间",type:"text",minlength:0,maxlength:16,rules:[],requiredOn:"1==1",showWordLimit:!0},{renderer:"input",name:"username",requiredOn:"1 === 1",placeholder:"用户名（guest）",type:"text",rules:[],minlength:0,maxlength:16,showWordLimit:!0},{renderer:"input",name:"password",requiredOn:"1 === 1",placeholder:"密码（_123456qwerty）",type:"password",rules:[{type:"sw",trigger:"blur"}]},{renderer:"input",name:"code",requiredOn:"1 === 1",placeholder:"验证码",type:"text",rules:[{type:"exp",exp:"data.code !== data.verify",message:"验证码不正确",trigger:"blur"}]},{renderer:"verify",name:"verify",useRef:!0},{renderer:"wrapper",body:[{renderer:"action",text:"忘记密码？",type:"success",isText:!0,plain:!0,tag:"div",body:{}}],classname:"i-login_forget"},{renderer:"action",text:"登录",actionType:"login",type:"primary",body:{}},{renderer:"action",text:"游客访问",actionType:"visitor",classname:"i-login__visitor",type:"success",plain:!0,body:{}}]}]},{label:"注册",icon:"",keepAlive:!0,body:[{renderer:"form",hideRequiredAsterisk:!0,actionApi:{url:"/api/user",method:"post",params:{"*":"*"}},redirect:"localhost/login",controls:[{renderer:"input",name:"namespace",placeholder:"命名空间（瓜子花生工作室）",type:"text",minlength:0,maxlength:16,rules:[],requiredOn:"1==1",showWordLimit:!0},{renderer:"input",name:"username",requiredOn:"1==1",placeholder:"用户名（令狐瓜子）",type:"text",minlength:0,maxlength:16,showWordLimit:!0,rules:[]},{renderer:"input",name:"email",placeholder:"邮箱",required:!1,type:"text",validType:"normal",requiredOn:"1",rules:[{exp:"!/^([a-zA-Z0-9]+[_|\\_|\\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\\_|\\.]?)*[a-zA-Z0-9]+\\.[a-zA-Z]{2,3}$/.test(data.email)",trigger:"blur",type:"exp"},{type:"api",trigger:"blur",exp:"/api/user/email/valid?email=${email}"}],append:{renderer:"sendemail",classname:"verify"}},{renderer:"action",name:"SendEmailAction",actionType:"ajax",text:"获取验证码",visibleOn:"1==2",actionApi:{url:"/api/email",method:"post",params:{"*":"*"}},body:{}},{renderer:"input",name:"code",requiredOn:"1==1",placeholder:"验证码",type:"text",rules:[]},{renderer:"input",name:"password",requiredOn:"1==1",placeholder:"密码",type:"text",showPassword:!0,rules:[{type:"exp",trigger:"blur",message:"密码必须相等",exp:"data.password !== data.repassword"}]},{renderer:"input",name:"repassword",requiredOn:"1==1",placeholder:"确认密码",type:"text",showPassword:!0,rules:[{type:"exp",trigger:"blur",message:"密码必须相等",exp:"data.password !== data.repassword"}]},{renderer:"action",text:"注册",actionType:"submit",body:{}}]}]},{label:"会员权益",icon:"",keepAlive:!1,body:[{renderer:"image",src:Object({NODE_ENV:"production",VUE_APP_NODE_ENV:"production",VUE_APP_API_NODE_ENV:"gp",VUE_APP_CONTEXT_PATH_HOME:"/home",VUE_APP_CONTEXT_PATH_WEBSITE:"/website",VUE_APP_API_BASE:"https://songshuzhong.github.io/i-website/public",BASE_URL:"/i-website/dist/"}).VUE_APP_PUBLIC_PATH_HOME+"/img/attitude.jpg"},{renderer:"html",classname:"i-login__attitude",html:"成为会员后会获得组建团队、项目管理的能力"}]}],activeTab:0,tabPosition:"top"}],worker:"e => {\n  let password = e.data.password;\n  let message = '';\n  let strength = 0;\n  if (password.length > 8) {\n    strength += 1;\n  }\n  if (password.match(/([a-z]+)/)) {\n    strength += 1;\n  }\n  if (password.match(/([A-Z]+)/)) {\n    strength += 1;\n  }\n  if (password.match(/([0-9]+)/)) {\n    strength += 1;\n  }\n  if (password.match(/([!,%,&,@,#,$,^,*,?,_,~])/)) {\n    strength += 1;\n  }\n  if (password.length > 12 && strength < 4) {\n    strength += 1;\n  }\n  switch(strength){\n    case 0:\n      message = '密码过于简单';\n      break;\n    case 1:\n      message = '密码需要包含字母或数字';\n      break;\n    case 2:\n      message = '密码需要包含字母、数字和特殊字符';\n      break;\n    case 3:\n      message = '密码需要包含字母、数字、特殊字符和长度大于8位';\n      break;\n    case 4:\n      message = '密码符合要求';\n      break;\n    default:\n      message = '未知错误';\n  }\n  if (strength === 4) {\n    return Promise.resolve();\n  } else {\n    return Promise.reject({\n      message,\n      status: 'error'\n    });\n  }\n};"},l=Object(r["defineComponent"])({name:"Login",setup(){return Object(r["onMounted"])(()=>{document.title="欢迎使用百搭云平台"}),{loginSchema:d}}}),u=n("9c21"),p=n.n(u);const h=p()(l,[["render",c]]);var g=h;function m(e,t,n,a,i,o){const s=Object(r["resolveComponent"])("el-button");return Object(r["openBlock"])(),Object(r["createBlock"])(s,{disabled:e.isCounting||!e.iEmail||e.isLoading,loading:e.isLoading,onClick:e.startCountdown},{default:Object(r["withCtx"])(()=>[e.isLoading?Object(r["createCommentVNode"])("",!0):(Object(r["openBlock"])(),Object(r["createElementBlock"])(r["Fragment"],{key:0},[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.isCounting?e.countdown+"s":"发送"),1)],64))]),_:1},8,["disabled","loading","onClick"])}var b=Object(r["defineComponent"])({name:"Sendemail",props:{path:String,track:String,action:Function,classname:String,initData:{type:Object,required:!1}},setup(e){const{proxy:t}=Object(r["getCurrentInstance"])(),n=Object(r["ref"])(""),a=Object(r["ref"])(60),i=Object(r["ref"])(!1);let o;const s=Object(r["computed"])(()=>a.value>0&&a.value<60),c=()=>(i.value=!0,new Promise(e=>{const n=setTimeout(()=>{clearTimeout(n),i.value=!1,"success"===t.$parent.$parent.$parent.$parent.validateState&&e()},3e3)})),d=()=>{const e=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(n.value);e&&(o&&l(),t.$dispatchAction(t,{renderer:"action",actionType:"trigger",triggered:"SendEmailAction"},{renderer:"action",actionType:"trigger",triggered:"SendEmailAction"},{},()=>{}),o=setInterval(()=>{a.value--,a.value<=0&&(clearInterval(o),a.value=60)},1e3))},l=()=>{clearInterval(o),o=null};return Object(r["watch"])(()=>e.initData,e=>{n.value=e.email},{deep:!0}),Object(r["onBeforeUnmount"])(()=>{l()}),{iEmail:n,isLoading:i,isCounting:s,countdown:a,starting:c,startCountdown:d}}});const f=p()(b,[["render",m]]);var _=f,E=n("e40e"),v=n("ddb8");n("4daa"),n("4a9e"),n("b361"),n("c5ef");const P=Object(r["createApp"])(g),A=(e,t,n,r,i,s)=>{Object(o["api"])().staticApi().post("https://songshuzhong.github.io/i-website/public/api/auth/login",i).then(t=>{localStorage.setItem("token","Bearer "+t.data);const n="localhost/website";e.$dispatchAction(e,{url:n,actionType:"url"},{},()=>{})}).catch(e=>{var t,n,r,i;s.refs.verify.handleDraw(),Object(a["a"])({title:"错误"+((null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.code)||(null===e||void 0===e||null===(n=e.response)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.code)||e.code),message:(null===e||void 0===e||null===(r=e.data)||void 0===r?void 0:r.message)||(null===e||void 0===e||null===(i=e.response)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.message)||e.message,type:"error",duration:1e4,offset:50})}).finally(()=>{r&&r("CANCEL_LOADING")})},y={domains:["https://songshuzhong.github.io/i-website/public"],renderers:[_,E["a"]],actions:{visitor:function(e,t,n,r){A(e,t,n,r,{namespace:"guest",username:"guest",password:"_123456qwerty",code:"1234",verify:"1234"})},login:function(e,t,n,r,a){t.actionType="extends",t.triggered="valid",this.extends(e,t,n,r,{}).then(i=>{if(i){const i=this.extends(e,{actionType:"extends",triggered:"getData"},n,r,{});A(e,t,n,r,i,a)}}).catch(()=>{a.refs.verify.handleDraw()}).finally(()=>{r&&r("CANCEL_LOADING")})}}};Object(v["a"])(Object({NODE_ENV:"production",VUE_APP_NODE_ENV:"production",VUE_APP_API_NODE_ENV:"gp",VUE_APP_CONTEXT_PATH_HOME:"/home",VUE_APP_CONTEXT_PATH_WEBSITE:"/website",VUE_APP_API_BASE:"https://songshuzhong.github.io/i-website/public",BASE_URL:"/i-website/dist/"}).VUE_APP_SERVICE_WORKER),P.use(i["a"]).use(s.a,y).mount(".i-website-app__container")},c5ef:function(e,t,n){}});